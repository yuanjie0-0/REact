<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello React!</title>
    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>
    <div id="example"></div>
    <div id="example1"></div>
    <!-- React 中, 创建不同的组件来封装各种你需要的行为，然后还可以根据应用的状态变化只渲染其中的一部分 -->
    <script type="text/babel">

        function UserGreeting(props){
            return <h1>欢迎回来</h1>
        }
        function GuestGreeting(props){
            return <h1>请先注册</h1>
        }
        
        function Greeting(props) {
            const isLoggedIn = props.isLoggedIn;
            if(isLoggedIn){
                return <UserGreeting />
            }
                return <GuestGreeting />
        }

        function LoginButton(props){
            return (<button onClick={props.onClick}>
                    登陆
                    </button>
                    );        
            };
        function LogoutButton(props){
            return (
              <button onClick={props.onClick}>
                退出
              </button>  
            );
        }


        ReactDOM.render(
            <Greeting isLoggedIn = {true} />,
            document.getElementById('example')
        )

        // 元素变量
        // 变量存储元素，帮你有条件的渲染组件的一部分，而输出的其他部分不会更改
        class LoginControl extends React.Component {
            //构造函数
            constructor(props){
                super(props);
                this.handleLoginClick = this.handleLoginClick.bind(this);
                this.handleLogoutClick = this.handleLogoutClick.bind(this);
                this.state = {isLoggedIn: false};
            }
            //
            handleLoginClick(){
                this.setState({isLoggedIn: true});
            }
            handleLogoutClick(){
                this.setState({isLoggedIn: false});
            }
            render(){
                const isLoggedIn = this.state.isLoggedIn;
                let button = null;
                if (isLoggedIn){
                    button = <LogoutButton onClick={this.handleLogoutClick} />;
                }else {
                    button = <LoginButton onClick = {this.handleLoginClick} />;
                }
                return (
                    <div>
                        <Greeting isLoggedIn = {isLoggedIn} />
                        {button}
                    </div>
                );    
            }

        }
        ReactDOM.render(
            <LoginControl />,
            document.getElementById('example1')
        );
    </script>
</body>
</html>